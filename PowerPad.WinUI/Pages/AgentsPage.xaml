<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="PowerPad.WinUI.Pages.AgentsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PowerPad.WinUI.Pages"
    xmlns:components="using:PowerPad.WinUI.Components"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:m="using:PowerPad.Core.Models.AI"
    mc:Ignorable="d">
    <Page.Resources>
        <Style TargetType="TextBlock" x:Key="WSTitleStyle" BasedOn="{StaticResource TitleTextBlockStyle}">
            <Setter Property="FontSize" Value="22" />
        </Style>
    </Page.Resources>
    <Grid Margin="0,0,0,2">
        <NavigationView
            x:Name="NavView"
            CompactModeThresholdWidth="0"
            ExpandedModeThresholdWidth="0"
            IsBackButtonVisible="Collapsed"
            IsPaneOpen="True"
            IsPaneToggleButtonVisible="False"
            IsPaneVisible="True"
            IsSettingsVisible="False"
            OpenPaneLength="248"
            SelectionChanged="NavView_SelectionChanged"
            Loaded="NavView_Loaded">
            <NavigationView.Resources>
                <Thickness x:Key="NavigationViewContentMargin">0,48,0,0</Thickness>
                <Thickness x:Key="NavigationViewContentGridBorderThickness">0,0,0,0</Thickness>
                <Thickness x:Key="NavigationViewMinimalContentMargin">0,0,0,0</Thickness>
                <SolidColorBrush x:Key="NavigationViewContentBackground" Color="Transparent" />
                <CornerRadius x:Key="NavigationViewContentGridCornerRadius">10,0,0,0</CornerRadius>
            </NavigationView.Resources>
            <NavigationView.PaneHeader>
                <TextBlock
                    Style="{StaticResource WSTitleStyle}"
                    Text="Agentes"
                    TextTrimming="CharacterEllipsis"
                    TextWrapping="NoWrap"
                    Margin="16,4,16,4"/>
            </NavigationView.PaneHeader>
            <NavigationView.MenuItems>
                <NavigationViewItem
                    Content="Agente 1"
                    Margin="0,6,0,0"
                    Tag="{x:Bind m:ModelProvider.Ollama}"
                    Visibility="{x:Bind _settings.General.OllamaEnabled, Mode=OneWay}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE709;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem
                    Content="Agente 2"
                    Tag="{x:Bind m:ModelProvider.HuggingFace}"
                    Visibility="{x:Bind _settings.General.OllamaEnabled, Mode=OneWay}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE716;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem
                    Content="Agente 3"
                    Tag="{x:Bind m:ModelProvider.GitHub}"
                    Visibility="{x:Bind _settings.General.AzureAIEnabled, Mode=OneWay}">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE719;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <NavigationView.PaneFooter>
                <Button
                    Margin="4,8,4,-4"
                    Height="36"
                    HorizontalAlignment="Stretch"
                    BorderThickness="0">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon FontSize="16" Glyph="&#xE710;" />
                        <TextBlock Text="AÃ±adir agente" />
                    </StackPanel>
                </Button>
            </NavigationView.PaneFooter>
            <Frame x:Name="NavFrame"/>
        </NavigationView>
    </Grid>
</Page>
