<?xml version="1.0" encoding="utf-8"?>
<winuiex:WindowEx
    x:Class="PowerPad.WinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PowerPad.WinUI"
    xmlns:controls="using:PowerPad.WinUI.Components.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:winuiex="using:WinUIEx"
    Width="1280"
    MinWidth="960"
    MinHeight="720"
    mc:Ignorable="d"
    Title="PowerPad">
    <Page x:Name="MainPage">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48" />
                <RowDefinition Height="*" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="48" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border
                x:Name="AppIcon"
                Height="24"
                Width="48"
                Margin="0"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">
                <Image
                    Width="28"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center"
                    Source="ms-appx:///Assets/Square44x44Logo.targetsize-24_altform-unplated.png"
                    Margin="0"/>
            </Border>

            <NavigationView
                x:Name="NavView"
                Grid.RowSpan="3"
                Grid.ColumnSpan="2"
                Canvas.ZIndex="0"
                IsTabStop="False"
                IsTitleBarAutoPaddingEnabled="True"
                IsPaneToggleButtonVisible="False"
                IsBackButtonVisible="Collapsed"
                IsSettingsVisible="True"
                PaneDisplayMode="LeftCompact"
                SelectionChanged="NavView_SelectionChanged"
                Loaded="NavView_Loaded"
                Margin="0,0,0,-2">
                
                <NavigationView.Resources>
                    <Thickness x:Key="NavigationViewContentMargin">0</Thickness>
                    <Thickness x:Key="NavigationViewMinimalContentMargin">0</Thickness>
                    <Thickness x:Key="NavigationViewContentGridBorderThickness">0</Thickness>
                    <SolidColorBrush x:Key="NavigationViewContentBackground" Color="Transparent" />
                    <CornerRadius x:Key="NavigationViewContentGridCornerRadius">0</CornerRadius>
                </NavigationView.Resources>
                
                <NavigationView.MenuItems>
                    <NavigationViewItem
                        Margin="0,44,0,0"
                        Content="Workspace" ToolTipService.Placement="Right"
                        Icon="{ui:FontIcon Glyph=&#xE80F;}"
                        Tag="WorkspacePage" />
                    <NavigationViewItem
                        x:Name="ModelsNavViewItem"
                        Content="Modelos" ToolTipService.Placement="Right"
                        Icon="{ui:FontIcon Glyph=&#xF158;}"
                        Tag="ModelsPage" />
                    <NavigationViewItem
                        x:Name="AgentesNavViewItem"
                        Content="Agentes" ToolTipService.Placement="Right"
                        Icon="{ui:FontIcon Glyph=&#xE99A;}"
                        Tag="AgentsPage" />
                </NavigationView.MenuItems>
                <Frame x:Name="NavFrame" />
            </NavigationView>

            <FontIcon 
                x:Name="ErrorBadge"
                Grid.Row="2" 
                FontSize="14" 
                Foreground="{ThemeResource AccentFillColorDefaultBrush}" 
                Margin="20,0,0,22"
                IsHitTestVisible="False"
                Glyph="&#xF167;"
                Visibility="Collapsed"/>
            
            <Border 
                x:Name="Splitter"
                Grid.Column="2" 
                Grid.RowSpan="3" 
                Width="1" 
                HorizontalAlignment="Left" 
                Background="{StaticResource PowerPadStrokeColorDefault}" />

            <Grid Grid.Column="2" x:Name="TitleContent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button
                    x:Name="ToggleMenuBtn"
                    Height="30"
                    Width="30"
                    ToolTipService.ToolTip="Mostrar menu"
                    Padding="6"
                    Background="Transparent"
                    BorderBrush="Transparent"
                    Click="ToggleMenuBtn_Click"
                    Canvas.ZIndex="1"
                    IsHitTestVisible="True"
                    Visibility="Collapsed">
                    <Button.Content>
                        <!--<FontIcon Glyph="&#xEA49;" />-->
                        <controls:ButtonIcon x:Name="ToggleMenuIcon" />
                    </Button.Content>
                </Button>

                <winuiex:TitleBar
                    x:Name="TitleBar"
                    Title="PowerPad"
                    Subtitle=""
                    Grid.Column="1"
                    Height="48"
                    FontSize="1.2em"
                    IsTabStop="False" />
            </Grid>
        </Grid>
    </Page>
</winuiex:WindowEx>
