<?xml version="1.0" encoding="utf-8"?>
<winuiex:WindowEx
    x:Class="PowerPad.WinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PowerPad.WinUI"
    xmlns:controls="using:PowerPad.WinUI.Components.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    xmlns:winuiex="using:WinUIEx"
    Width="1280"
    MinWidth="960"
    MinHeight="720"
    mc:Ignorable="d"
    Title="PowerPad">
    <Page x:Name="MainPage" Loaded="MainPage_Loaded">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="48" />
                <RowDefinition Height="*" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="48" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border
                x:Name="AppIcon"
                Height="38"
                Width="48"
                Margin="0,0,0,0"
                VerticalAlignment="Center"
                HorizontalAlignment="Center">
                <Image
                    Width="22"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Center"
                    Source="ms-appx:///Assets/StoreLogo.scale-200.png"
                    Margin="0,0,0,0"/>
            </Border>

            <NavigationView
                x:Name="NavView"
                Grid.RowSpan="3"
                Grid.ColumnSpan="2"
                Canvas.ZIndex="0"
                IsTabStop="False"
                IsTitleBarAutoPaddingEnabled="True"
                IsPaneToggleButtonVisible="False"
                IsBackButtonVisible="Collapsed"
                IsSettingsVisible="True"
                PaneDisplayMode="LeftCompact"
                SelectionChanged="NavView_SelectionChanged"
                Margin="0,0,0,-2">
                
                <NavigationView.Resources>
                    <Thickness x:Key="NavigationViewContentMargin">0,0,0,0</Thickness>
                    <Thickness x:Key="NavigationViewMinimalContentMargin">0,0,0,0</Thickness>
                    <Thickness x:Key="NavigationViewContentGridBorderThickness">0,0,0,0</Thickness>
                    <SolidColorBrush x:Key="NavigationViewContentBackground" Color="Transparent" />
                    <CornerRadius x:Key="NavigationViewContentGridCornerRadius">0,0,0,0</CornerRadius>
                </NavigationView.Resources>
                
                <NavigationView.MenuItems>
                    <NavigationViewItem
                        Margin="0,44,0,0"
                        Content="Workspace"
                        Icon="{ui:FontIcon Glyph=&#xE821;}"
                        Tag="WorkspacePage"
                        PointerPressed="NavigationViewItem_PointerPressed"/>
                    <NavigationViewItem
                        x:Name="ModelsNavViewItem"
                        Content="Modelos"
                        Icon="{ui:FontIcon Glyph=&#xF158;}"
                        Tag="ModelsPage"
                        PointerPressed="NavigationViewItem_PointerPressed"/>
                    <NavigationViewItem
                        x:Name="AgentesNavViewItem"
                        Content="Agentes"
                        Icon="{ui:FontIcon Glyph=&#xE99A;}"
                        Tag="AgentsPage"
                        PointerPressed="NavigationViewItem_PointerPressed"/>
                </NavigationView.MenuItems>
                <Frame x:Name="NavFrame" />
            </NavigationView>

            <FontIcon 
                x:Name="ErrorBadge"
                Grid.Row="2" 
                FontSize="14" 
                Foreground="{ThemeResource AccentFillColorDefaultBrush}" 
                Margin="20,0,0,22"
                IsHitTestVisible="False"
                Glyph="&#xF167;"
                Visibility="Collapsed"/>
            
            <Border 
                x:Name="Splitter"
                Grid.Column="2" 
                Grid.RowSpan="3" 
                Width="1" 
                HorizontalAlignment="Left" 
                Background="{StaticResource PowerPadStrokeColorDefault}" />

            <Button
                x:Name="ShowMenuBtn"
                Grid.Column="2"
                Height="30"
                Width="30"
                ToolTipService.ToolTip="Mostrar menu"
                Margin="0,0,10,0"
                Padding="6,5,6,6"
                Background="Transparent"
                BorderBrush="Transparent"
                Click="ShowMenuBtn_Click"
                Canvas.ZIndex="1"
                IsHitTestVisible="True"
                Visibility="Collapsed">
                <Button.Content>
                    <controls:ButtonIcon Source="{ThemeResource ShowMenuSvg}" />
                </Button.Content>
            </Button>

            <winuiex:TitleBar
                x:Name="TitleBar"
                Title="PowerPad"
                Subtitle=""
                Grid.Column="2"
                Height="48"
                IsTabStop="False">
            </winuiex:TitleBar>
        </Grid>
    </Page>
</winuiex:WindowEx>
