<?xml version="1.0" encoding="utf-8"?>
<local:EditorControl
    x:Class="PowerPad.WinUI.Components.Editors.TextEditorControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:PowerPad.WinUI.Components.Editors"
    xmlns:lcontrols="using:PowerPad.WinUI.Components.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <local:EditorControl.Resources>
        <Style TargetType="TextBox" x:Key="TransparentTextBoxStyle" BasedOn="{StaticResource DefaultTextBoxStyle}">
            <Setter Property="FontSize" Value="27.5" />
            <Setter Property="FontWeight" Value="SemiBold" />
        </Style>
    </local:EditorControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>

        <Grid Margin="36,24,36,18">
            <Grid ColumnSpacing="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>
                <lcontrols:EditableTextBlock
                     x:Name="EditableTextBlock"
                     FontSize="27.5"
                     FontWeight="SemiBold"
                     ForcedForeground="{ThemeResource TextFillColorPrimaryBrush}"
                     Value="{x:Bind _document.Name, Mode=OneWay}"
                     Edited="EditableTextBlock_Edited"/>
                <Button
                    x:Name="CopyBtn"
                    Grid.Column="1"
                    ToolTipService.ToolTip="Copiar"
                    Click="CopyBtn_Click">
                    <Button.Content>
                        <FontIcon FontSize="16" Glyph="&#xE8C8;" />
                    </Button.Content>
                </Button>
                <Button
                    x:Name="SaveBtn"
                    Grid.Column="2"
                    ToolTipService.ToolTip="Guardar"
                    IsEnabled="{x:Bind _document.CanSave, Mode=OneWay}"
                    Command="{x:Bind _document.SaveCommand}">
                    <Button.Content>
                        <FontIcon FontSize="16" Glyph="&#xE74E;" />
                    </Button.Content>
                </Button>
            </Grid>
        </Grid>

        <lcontrols:IntegratedTextBox
            x:Name="TextEditor" 
            Grid.Row="1"
            TextWrapping="Wrap" 
            AcceptsReturn="True"
            Margin="10,0"
            FontFamily="Consolas"
            ScrollViewer.VerticalScrollBarVisibility="Auto"/>
        
        <lcontrols:AgentControl
            x:Name="AgentControl"
            Grid.Row="2"
            Margin="36,18,36,12"
            SendButtonClicked="AgentControl_SendButtonClicked" />

    </Grid>
</local:EditorControl>